<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PH Gov Tools | All LGUs</title>
<style>
body{font-family:sans-serif;margin:20px;}
h1{color:#0038a8;}
select{padding:10px;border-radius:8px;width:100%;margin-bottom:10px;}
li{cursor:pointer;margin-bottom:4px;}
li:hover{text-decoration:underline;}
</style>
</head>
<body>

<h1>üìç Philippines Local Government Units</h1>

<select id="regionSelect" onchange="onRegionChange()">
  <option value="">Select Region</option>
</select>

<select id="provinceSelect" onchange="onProvinceChange()" disabled>
  <option value="">Select Province</option>
</select>

<ul id="cityList"></ul>

<script>
let lguData = {};

fetch("lgus.json")
  .then(response => response.json())
  .then(json => {
    lguData = json;
    populateRegions();
  });

function populateRegions() {
  const sel = document.getElementById("regionSelect");
  Object.keys(lguData).forEach(r => {
    const opt = document.createElement("option");
    opt.value = r;
    opt.text = r;
    sel.add(opt);
  });
}

function onRegionChange() {
  const region = document.getElementById("regionSelect").value;
  const provSel = document.getElementById("provinceSelect");
  provSel.innerHTML = "<option value=''>Select Province</option>";
  provSel.disabled = !region;
  document.getElementById("cityList").innerHTML = "";
  if (!region) return;
  Object.keys(lguData[region]).forEach(p => {
    const opt = document.createElement("option");
    opt.value = p;
    opt.text = p;
    provSel.add(opt);
  });
}

function onProvinceChange() {
  const region = document.getElementById("regionSelect").value;
  const prov = document.getElementById("provinceSelect").value;
  const list = document.getElementById("cityList");
  list.innerHTML = "";
  if (!prov) return;
  lguData[region][prov].forEach(city => {
    const li = document.createElement("li");
    li.textContent = city;
    list.appendChild(li);
  });
}
</script>

</body>
</html>
